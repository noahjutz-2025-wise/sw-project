<div th:fragment="sidebar(activeTab)">
    <div id="sidebar" class="bg-sidebar p-3 collapse d-md-flex flex-column d-none d-md-block"
         style="width: 200px; height: 100vh;" hx-boost="false">
        <div class="language-switcher d-flex gap-2 pb-3 mb-0 border-bottom border-white border-opacity-25">
            <a th:href="@{''(lang='en')}"
                class="btn btn-sm flex-fill text-white lang-btn"
                th:classappend="${#locale.toString() == 'en' ? 'active' : ''}">
                ðŸ‡¬ðŸ‡§ EN
            </a>
            <a th:href="@{''(lang='de')}"
               class="btn btn-sm flex-fill text-white lang-btn"
               th:classappend="${#locale.toString() == 'de' ? 'active' : ''}">
                ðŸ‡©ðŸ‡ª DE
            </a>
        </div>
        <br>
        <ul class="nav flex-column">
            <li class="nav-item"><a href="/mood" class="nav-link text-white"
                                    th:classappend="${activeTab == 'mood'} ? 'active' : ''" th:text="#{nav.mood}">Stimmung</a></li>
            <li class="nav-item"><a href="/trends" class="nav-link text-white"
                                    th:classappend="${activeTab == 'trends'} ? 'active' : ''" th:text="#{nav.trends}">Trends</a></li>
            <li class="nav-item"><a href="/app/watchlist" class="nav-link text-white"
                                    th:classappend="${activeTab == 'watchlist'} ? 'active' : ''" th:text="#{nav.watchlist}">Watchlist</a></li>
            <li class="nav-item"><a href="/app/search" class="nav-link text-white"
                                    th:classappend="${activeTab == 'search'} ? 'active' : ''" th:text="#{nav.search}">Suche</a></li>
        </ul>

        <div class="mt-auto mb-3" >
            <div class="dropdown dropup">
                <a href="/user/profile" class="text-decoration-none">
                    <button class="btn btn-outline-light w-100 d-flex align-items-center justify-content-start rounded-pill" type="button">
                            <span class="bg-light text-dark rounded-circle d-flex align-items-center justify-content-center me-2 p-1"
                                  style="width: 40px; height: 40px;">
                                &#128126;
                            </span>
                        <span class="small text-truncate" th:text="#{nav.profile}">Profil</span>
                    </button>
                </a>
            </div>
        </div>
    </div>
</div>